(window["webpackJsonpoauth2-helper"]=window["webpackJsonpoauth2-helper"]||[]).push([[0],{200:function(e,t,n){e.exports=n(431)},205:function(e,t,n){},206:function(e,t,n){},233:function(e,t){},235:function(e,t){},266:function(e,t){},267:function(e,t){},311:function(e,t){},313:function(e,t){},336:function(e,t){},431:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),i=n(191),r=n.n(i),l=(n(205),n(192)),c=n(74),s=n(75),d=n(79),h=n(76),u=n(39),p=n(78),m=(n(206),n(193)),E=n.n(m),k=n(433),b=n(434),g=n(438),f=function(e){function t(){return Object(c.a)(this,t),Object(d.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return o.a.createElement("form",{onSubmit:this.props.submitHandler},o.a.createElement(k.a,{label:"Client ID",labelFor:"text-input",labelInfo:"(required)"},o.a.createElement(b.a,{name:"clientId",id:"text-input",defaultValue:this.props.clientId,placeholder:"1x46iftmdzqtt",onChange:this.props.changeHandler})),o.a.createElement(k.a,{label:"Client Secret",labelFor:"text-input",labelInfo:"(required)"},o.a.createElement(b.a,{name:"clientSecret",id:"text-input",defaultValue:this.props.clientSecret,placeholder:"4ctdx7k5du36r5q1qfkarhw2ts5tbbhyv13c8yar0es6k40cwg",onChange:this.props.changeHandler})),o.a.createElement(k.a,{helperText:"The endpoint used by the client to obtain an authorisation code.",label:"Auth Endpoint",labelFor:"text-input",labelInfo:"(required)"},o.a.createElement(b.a,{name:"authEndpoint",id:"text-input",defaultValue:this.props.authEndpoint,placeholder:"https://my.domain/oauth/authorise",onChange:this.props.changeHandler})),o.a.createElement(k.a,{helperText:"The endpoint used by the application to trade an auth code for an access token.",label:"Token Endpoint",labelFor:"text-input",labelInfo:"(required)"},o.a.createElement(b.a,{name:"tokenEndpoint",id:"text-input",defaultValue:this.props.tokenEndpoint,placeholder:"https://my.domain/oauth/token",onChange:this.props.changeHandler})),o.a.createElement(g.a,{type:"submit",rightIcon:"arrow-right",intent:"success",text:"Next step"}))}}]),t}(o.a.Component),S=n(435),v=n(436),I=n(27),w=n(437),y=function(e){function t(e){var n;Object(c.a)(this,t),n=Object(d.a)(this,Object(h.a)(t).call(this,e));var a=window.location.search,o=new URLSearchParams(a);return n.state={darkMode:!0,clientId:localStorage.getItem("clientId")||"",clientSecret:localStorage.getItem("clientSecret")||"",authEndpoint:localStorage.getItem("authEndpoint")||"",tokenEndpoint:localStorage.getItem("tokenEndpoint")||"",authCode:o.get("code"),homeUrl:"https://dd9a22d6.ngrok.io/",tokenResponse:"",tokenError:""},n.updateState=n.updateState.bind(Object(u.a)(n)),n.redirect=n.redirect.bind(Object(u.a)(n)),n.getToken=n.getToken.bind(Object(u.a)(n)),n.toggleDarkMode=n.toggleDarkMode.bind(Object(u.a)(n)),n}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e,t;t=this.state.tokenResponse?o.a.createElement("div",null,o.a.createElement("h4",null,"Token Response"),o.a.createElement(S.b,null,o.a.createElement(S.a,null,this.state.tokenResponse))):this.state.tokenError?o.a.createElement("div",null,o.a.createElement("h4",null,"Error"),o.a.createElement(S.b,null,o.a.createElement(S.a,null,this.state.tokenError))):o.a.createElement(g.a,{disabled:this.state.tokenResponse,onClick:this.getToken},"Fetch Token"),e=this.state.authCode?o.a.createElement(v.a,{interactive:!1,elevation:I.a.TWO},o.a.createElement("h4",null,"Authorisation Code: "),o.a.createElement(S.b,null,o.a.createElement(S.a,null,this.state.authCode)),t):o.a.createElement(v.a,{interactive:!1,elevation:I.a.TWO},o.a.createElement(f,{changeHandler:this.updateState,submitHandler:this.redirect,clientId:this.state.clientId,clientSecret:this.state.clientSecret,authEndpoint:this.state.authEndpoint,tokenEndpoint:this.state.tokenEndpoint}));var n=this.state.darkMode?"App bp3-dark":"App";return o.a.createElement("div",{className:n},o.a.createElement("div",{className:"container center"},o.a.createElement(w.a,{checked:this.state.darkMode,label:"Dark Mode",onChange:this.toggleDarkMode}),e))}},{key:"updateState",value:function(e){var t=e.target.name,n=e.target.value;this.setState(Object(l.a)({},t,n))}},{key:"redirect",value:function(e){localStorage.setItem("clientId",this.state.clientId),localStorage.setItem("clientSecret",this.state.clientSecret),localStorage.setItem("authEndpoint",this.state.authEndpoint),localStorage.setItem("tokenEndpoint",this.state.tokenEndpoint),e.preventDefault();var t="".concat(this.state.authEndpoint,"?response_type=code&client_id=").concat(this.state.clientId,"&redirect_uri=").concat(this.state.homeUrl,"&scope=read write");window.location=t}},{key:"getToken",value:function(){var e=this.state.authCode,t={uri:encodeURI(this.state.tokenEndpoint),method:"POST",body:{code:e,client_id:this.state.clientId,client_secret:this.state.clientSecret,grant_type:"authorization_code"},json:!0},n=this;E.a.post(t).then((function(e){n.setState({tokenResponse:JSON.stringify(e,null,1)})})).catch((function(e){n.setState({tokenError:JSON.stringify(e.error,null,1)})}))}},{key:"toggleDarkMode",value:function(){this.setState({darkMode:!this.state.darkMode})}}]),t}(o.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(o.a.createElement(y,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[200,1,2]]]);
//# sourceMappingURL=main.dbff0ff8.chunk.js.map